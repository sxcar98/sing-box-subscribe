{
  "log":{
    "level":"info",
    "output":"box.log",
    "timestamp":true
  },
  "dns":{
    "cache_capacity": 65536,
    "client_subnet":"219.149.135.188",
    "strategy":"ipv4_only",
    "final":"GoogleDNS",
    "servers": [
      {
        "tag": "GoogleDNS",
        "type": "https",
        "server": "8.8.8.8",
        "detour": "PROXY"
      },
      {
        "tag":"h3cDNS",
        "type": "udp",
        "server": "192.168.1.1",
        "detour": "DIRECT"
      }
    ],
    "rules": [
      {
        "rule_set": "geosite-cn",
        "server": "h3cDNS"
      },
      {
        "rule_set": "geosite-geolocation-!cn",
        "server": "GoogleDNS"
      }
    ]
  },
  "inbounds":[
    {
      "tag":"mixed-in",
      "type":"mixed",
      "listen":"::",
      "listen_port":42298
    }
  ],
  "outbounds":[
    {
      "tag":"PROXY",
      "type":"urltest",
      "interval":"30m",
      "outbounds":[
        "{all}"
      ],
      "filter":[
        {
          "action":"exclude",
          "keywords":[
            "网站|地址|剩余|过期|时间|有效|Premium"
          ]
        }
      ]
    },
    {
      "tag":"DIRECT",
      "type":"direct"
    }
  ],
  "route":{
    "default_domain_resolver":"h3cDNS",
    "final":"PROXY",
    "rules":[
      {
        "action":"sniff"
      },
      {
        "action":"hijack-dns",
        "protocol":"dns"
      },
      {
        "outbound":"DIRECT",
        "rule_set":[
          "geoip-cn",
          "geosite-cn"
        ]
      },
      {
        "outbound":"PROXY",
        "rule_set":[
          "geosite-geolocation-!cn"
        ]
      }
    ],
    "rule_set":[
      {
        "tag":"geosite-cn",
        "type":"remote",
        "format":"binary",
        "url":"https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/cn.srs",
        "download_detour":"DIRECT"
      },
      {
        "tag":"geoip-cn",
        "type":"remote",
        "format":"binary",
        "url":"https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geoip/cn.srs",
        "download_detour":"DIRECT"
      },
      {
        "tag":"geosite-geolocation-!cn",
        "type":"remote",
        "format":"binary",
        "url":"https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/geolocation-!cn.srs",
        "download_detour":"DIRECT"
      }
    ]
  }
}
