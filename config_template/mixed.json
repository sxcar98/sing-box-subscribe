{
  "log":{
    "level":"warn",
    "timestamp":true
  },
  "dns":{
    "disable_expire":true,
    "cache_capacity":16384,
    "servers":[
      {
        "address":"219.149.135.188"
      },
      {
        "tag":"dns_proxy",
        "address":"8.8.8.8",
        "client_subnet":"219.149.135.188",
        "detour":"PROXY"
      }
    ],
    "rules":[
      {
        "rule_set":"geosite-geolocation-!cn",
        "server":"dns_proxy"
      }
    ]
  },
  "inbounds":[
    {
      "type":"mixed",
      "listen":"::",
      "listen_port":7890
    }
  ],
  "outbounds":[
    {
      "type":"direct"
    },
    {
      "tag":"PROXY",
      "type":"urltest",
      "outbounds":[
        "{all}"
      ],
      "filter":[
        {
          "action":"exclude",
          "keywords":[
            "网站|地址|剩余|过期|时间|有效|Premium"
          ]
        }
      ],
      "url":"http://www.gstatic.com/generate_204",
      "interval":"10m",
      "tolerance":50
    }
  ],
  "route":{
    "rules":[
      {
        "action":"sniff"
      },
      {
        "action":"hijack-dns",
        "protocol":"dns"
      },
      {
        "action":"route",
        "outbound":"PROXY",
        "rule_set":"geosite-geolocation-!cn"
      },
      {
        "action":"route",
        "outbound":"PROXY",
        "rule_set":"geoip-cn",
        "invert":true,
      },
      {
        "action":"logical",
        "mode":"and"
      }
    ],
    "rule_set":[
      {
        "tag":"geosite-geolocation-!cn",
        "type":"remote",
        "format":"binary",
        "url":"https://ghproxy.cc/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/geolocation-!cn.srs"
      },
      {
        "tag":"geoip-cn",
        "type":"remote",
        "format":"binary",
        "url":"https://ghproxy.cc/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geoip/cn.srs"
      }
    ]
  }
}
