{
  "log":{
    "level":"info",
    "timestamp":true
  },
  "dns":{
    "disable_expire":true,
    "cache_capacity":16384,
    "servers":[
      {
        "tag":"dns_proxy",
        "type":"https",
        "server":"8.8.8.8",
        "strategy":"ipv4_only",
        "client_subnet":"219.149.135.188",
        "detour":"PROXY"
      },
      {
        "tag":"dns_direct",
        "type":"udp",
        "server":"219.149.135.188",
        "detour":"DIRECT"
      }
    ],
    "rules":[
      {
        "action":"route",
        "rule_set":"geosite-cn",
        "server":"dns_direct"
      }
    ]
  },
  "inbounds":[
    {
      "type":"mixed",
      "listen":"::",
      "listen_port":42298
    }
  ],
  "outbounds":[
    {
      "tag":"DIRECT",
      "type":"direct",
      "domain_resolver": {
        "server": "dns_direct"
      }
    },
    {
      "tag":"PROXY",
      "type":"urltest",
      "outbounds":[
        "{all}"
      ],
      "filter":[
        {
          "action":"exclude",
          "keywords":[
            "网站|地址|剩余|过期|时间|有效|Premium"
          ]
        }
      ],
      "url":"http://www.gstatic.com/generate_204",
      "interval":"10m",
      "tolerance":50
    }
  ],
  "route":{
    "default_domain_resolver":"dns_proxy",
    "final":"PROXY",
    "rules":[
      {
        "action":"sniff"
      },
      {
        "action":"hijack-dns",
        "protocol":"dns"
      },
      {
        "action":"route",
        "outbound":"DIRECT",
        "rule_set":[
          "geoip-cn",
          "geosite-cn"
        ]
      }
    ],
    "rule_set":[
      {
        "tag":"geosite-cn",
        "type":"remote",
        "format":"binary",
        "url":"https://ghproxy.cc/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geosite/cn.srs",
        "download_detour":"DIRECT"
      },
      {
        "tag":"geoip-cn",
        "type":"remote",
        "format":"binary",
        "url":"https://ghproxy.cc/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/sing/geo/geoip/cn.srs",
        "download_detour":"DIRECT"
      }
    ]
  }
}
